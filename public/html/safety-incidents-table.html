<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="google" content="notranslate">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Safety Incidents Table</title>
    <link rel="icon" type="image/png" href="../assets/logo2.png">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="../css/employee-dashboard.css">
  <link rel="stylesheet" href="../css/common-header.css">
  <!-- ADD THIS LINE for mobile responsiveness -->
  <link rel="stylesheet" href="../css/responsive.css">
  <!-- Add compact table styling -->
  <style>
    .page-fade-in {
      opacity: 1;
    }
    
    
    /* Compact styling for smaller content */
    .container {
      padding-top: 1rem !important;
    }
    
    .quality-alerts-container {
      padding: 1rem !important;
      margin-top: 1.0rem !important;
    }
    
    .quality-alerts-container h2 {
      font-size: 1.1rem !important;
      margin-bottom: 0.75rem !important;
    }
    
    .filter-controls {
      margin-bottom: 0.75rem !important;
      gap: 0.5rem !important;
    }
    
    .filter-controls span {
      font-size: 0.8rem !important;
      margin-bottom: 0.25rem !important;
    }
    
    .filter-input, .filter-select {
      font-size: 0.8rem !important;
      padding: 0.25rem 0.5rem !important;
      height: 1.75rem !important;
      min-width: 0 !important;
      width: auto !important;
      margin-bottom: 0.25rem !important;
    }
    
    .filter-btn {
      font-size: 0.8rem !important;
      padding: 0.25rem 0.5rem !important;
      height: 1.75rem !important;
      margin-bottom: 0.25rem !important;
    }
    
    table {
      font-size: 0.75rem !important;
    }
    
    table th, table td {
      padding: 0.25rem 0.5rem !important;
      font-size: 0.75rem !important;
      text-align: center !important;
    }
    
    /* Override table border-radius from employee-dashboard.css */
    .quality-alerts-container table {
      border-radius: 0 !important;
    }
  </style>
  <style>
    /* Action button styles */
    .action-btn {
      padding: 4px 8px;
      margin: 0;
      border: none;
      border-radius: 3px;
      cursor: pointer;
      font-size: 0.75rem;
      transition: var(--transition);
      text-decoration: none !important;
      display: inline-block;
      min-width: 45px;
      text-align: center;
      white-space: nowrap;
      box-sizing: border-box;
      font-weight: 500;
      height: 24px;
      line-height: 16px;
    }

    .view-btn {
      background-color: var(--accent-color);
      color: white;
    }

    .view-btn:hover {
      background-color: #001f4d;
    }

    .edit-btn {
      background-color: #28a745;
      color: white;
    }

    .edit-btn:hover {
      background-color: #218838;
    }

    /* Container for action buttons */
    .action-buttons-container {
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }
  </style>
</head>
<body class="bg-gray-100 text-gray-900">
  <div class="header-container centered-layout">
    <button type="button" class="header-back-button" onclick="window.location.href='employee-dashboard.html';">Back</button>
    <div class="header-title">Safety Incidents Table</div>
    <div class="company-logo">
        <img src="../assets/logo.png" class="auth-logo" alt="Logo"/>
    </div>
  </div>

  <div class="container page-fade-in">
    <div class="quality-alerts-container p-4">
      <h2 class="text-lg font-semibold mb-3 text-center">All Your Reported Safety Incidents</h2>
  <!-- Filter Controls -->
  <div class="filter-controls mb-3 flex justify-center space-x-3">
    <span class="text-xs font-medium">Sort or Filter Incidents:</span>
    <input type="date" id="filterDate" class="filter-input border rounded px-2 py-1" placeholder="Filter by Date">
    <select id="filterDept" class="filter-select border rounded px-2 py-1">
      <option value="">Filter by Responsible Dept.</option>
      <option value="Production">Production</option>
      <option value="Quality Control">Quality Control</option>
      <option value="Administration">Administration</option>
      <option value="Quality Assurance">Quality Assurance</option>
      <option value="Sales">Sales</option>
      <option value="Human Resource">Human Resource</option>
      <option value="Warehouse">Warehouse</option>
      <option value="Logistics">Logistics</option>
      <option value="Purchase">Purchase</option>
      <option value="Maintenance">Maintenance</option>
      <option value="EHS">EHS</option>
      <option value="Security">Security</option>
    </select>
    <select id="filterIncidentType" class="filter-select border rounded px-2 py-1">
      <option value="">Filter by Incident Type</option>
      <option value="Near Miss">Near Miss</option>
      <option value="First Aid">First Aid</option>
      <option value="Medical Treatment">Medical Treatment</option>
      <option value="Lost Time Injury">Lost Time Injury</option>
      <option value="Property Damage">Property Damage</option>
      <option value="Environmental">Environmental</option>
      <option value="Other">Other</option>
    </select>
    <button id="clearFilters" class="filter-btn bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-1 px-2 rounded transition-colors text-xs">
      Clear Filters
    </button>
    <button id="showStats" class="filter-btn bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-1 px-2 rounded transition-colors text-xs">Stats</button>
  </div>
  <!-- End Filter Controls -->
  <table class="min-w-full bg-white shadow-md text-xs">
    <thead>
      <tr class="bg-gray-200 text-left">
        <th class="py-1 px-2" data-sort="id">Incident No.</th>
        <th class="py-1 px-2" data-sort="incidentdate">Date</th>
        <th class="py-1 px-2" data-sort="user_name">Reported By</th>
        <th class="py-1 px-2" data-sort="user_department">Reporter Dept.</th>
        <th class="py-1 px-2" data-sort="incidentdesc">Description</th>
        <th class="py-1 px-2" data-sort="responsibledept">Responsible Dept.</th>
        <th class="py-1 px-2" data-sort="incidenttype">Incident Type</th>
        <th class="py-1 px-2">Actions</th>
      </tr>
    </thead>
    <tbody id="incidentsBody">
      <tr class="loading-row">
          <td colspan="8" class="text-center py-2 text-xs">Loading incidents...</td>
      </tr>
    </tbody>
  </table>
    </div>
  </div>
  <footer class="designer-watermark">
    <i class="bi bi-gear-fill" style="margin-right:6px;"></i> Designed by <span>GGC</span>
  </footer>
  <script type="module" src="../js/safety-incidents-table.js"></script>
</body>
</html> 
