<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="google" content="notranslate">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Dashboard Menu</title>
    <link rel="icon" type="image/png" href="../assets/logo2.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <link rel="stylesheet" href="../css/employee-dashboard.css">
    <link rel="stylesheet" href="../css/common-header.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">
    <style>
        /* Base font for the entire body */
        html {
            scroll-padding-top: 70px;
            overflow-x: hidden;
            width: 100%;
        }
        body {
            font-family: 'Roboto', sans-serif;
            font-weight: 500;
            padding-top: 60px; /* Space for fixed header */
            margin: 0;
            overflow-x: hidden;
            width: 100%;
        }
        /* Center the grid and cards */
        .quick-action-grid {
            display: flex !important;
            flex-wrap: wrap !important;
            gap: 2.5rem 2rem !important; /* vertical horizontal gaps */
            justify-content: center !important; /* Center horizontally */
            align-items: center !important;
            margin: 0 auto !important; /* Center grid itself */
            padding: 2.5rem !important; /* Space for edge icons */
            max-width: 1600px !important; /* Allow more width on large screens */
            width: 100% !important;
            position: relative !important;
            z-index: 1 !important;
        }
        .action-card {
            margin-left: 0 !important; /* Remove asymmetric margin */
            margin-right: 0 !important;
        }
        .container {
            padding-top: 25px !important;
            gap: 1rem !important;
            width: 100% !important;
            max-width: none !important;
            position: relative !important;
            z-index: 10 !important;
        }
        .dashboard-section {
            width: 100% !important;
            position: relative !important;
            z-index: 10 !important;
        }

        /* Mobile responsive - 2 cards per row */
        @media (max-width: 768px) {
            .quick-action-grid {
                gap: 1.5rem 1rem !important;
                padding: 1rem !important;
                max-width: 100% !important;
            }
            
            .action-card {
                width: calc(50% - 0.5rem) !important;
            }
        }
        
        @media (max-width: 480px) {
            .quick-action-grid {
                gap: 1rem 0.75rem !important;
                padding: 0.75rem !important;
            }
            
            .action-card {
                width: calc(50% - 0.375rem) !important;
                padding: 0 !important;
                height: 75px !important;
                min-height: 75px !important;
                max-height: 75px !important;
            }
            
            .action-card-icon-circle {
                width: 36px !important;
                height: 36px !important;
                left: -18px !important;
            }
        }

        /* Standardized Quick Action Card Font Sizes */
        .action-card-heading {
            font-size: 0.75rem !important;
            font-weight: 600 !important;
        }

        .action-card-description {
            font-size: 0.70rem !important;
            font-weight: 500 !important;
        }

        @media (max-width: 768px) {
            .action-card-heading,
            .action-card-heading h3 {
                font-size: 0.75rem !important;
            }
            .action-card-description,
            .action-card-description p {
                font-size: 0.70rem !important;
            }
        }

        @media (max-width: 480px) {
            .action-card-heading,
            .action-card-heading h3 {
                font-size: 0.75rem !important;
                padding: 2px 4px !important;
                height: 45% !important;
                line-height: 1.1 !important;
            }
            .action-card-description,
            .action-card-description p {
                font-size: 0.70rem !important;
                padding: 2px 4px !important;
                height: 55% !important;
                line-height: 1 !important;
            }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-900 font-roboto-medium" style="padding-top: 25px !important; margin: 0 !important;">
    <div class="header-container">
        <div class="left-section">
            <div class="user-info">
                 <!-- Add Logout Button Here -->
                 <button id="logoutButton" class="logout-button">Logout</button> 
                 <!-- User Name -->
                 <div class="user-name"></div> 
            </div>
        </div>
        <div class="header-title">Dashboard Menu</div>
        <div class="company-logo">
            <img src="../assets/logo.png" alt="Company Logo">
        </div>
    </div>
    <main>
        <div class="container page-fade-in">
            <section class="dashboard-section">
                <div class="quick-action-grid">
                     <div class="action-card js-hide" data-department="All" onclick="location.href='../html/quality-alert.html'">
                        <div class="action-card-icon-circle">
                        <i class="fas fa-exclamation-circle"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                        <h3>Quality Alert</h3>
                            </div>
                            <div class="action-card-description">
                        <p>Report New Quality Alert</p>
                            </div>
                        </div>
                    </div>
                     <div class="action-card js-hide" data-department="All" onclick="location.href='../html/safety-incident.html'">
                        <div class="action-card-icon-circle">
                        <i class="fas fa-hard-hat"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                        <h3>Safety Incident</h3>
                            </div>
                            <div class="action-card-description">
                        <p>Report a Safety Incident</p>
                            </div>
                        </div>
                    </div>
                    <div class="action-card js-hide" data-department="Quality Control, Quality Assurance" data-admin-only="true" onclick="location.href='../html/dms.html'">
                        <div class="action-card-icon-circle">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                                <h3>Daily Management System</h3>
                            </div>
                            <div class="action-card-description">
                                <p>Log DMS Activity</p>
                            </div>
                        </div>
                    </div>
                    <div class="action-card js-hide desktop-only" data-department="All" data-restricted-user="39b3feec-aa0e-43c5-b1c6-aef695599a61,24475774-7627-4e63-816a-62e0644b65de" onclick="location.href='../html/control-summary.html'">
                        <div class="action-card-icon-circle">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                                <h3>Control & Summary</h3>
                            </div>
                            <div class="action-card-description">
                                <p>View Control Datapoints <br> & Export</p>
                            </div>
                        </div>
                    </div>
                    <div class="action-card js-hide desktop-only" data-department="All" data-user-level="1" onclick="location.href='../html/dcc.html'">
                        <div class="action-card-icon-circle">
                            <i class="fas fa-folder-open"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                                <h3>Document Control Center</h3>
                            </div>
                            <div class="action-card-description">
                                <p>Access DCC Dashboard</p>
                            </div>
                        </div>
                    </div>
                    <!--
                     <div class="action-card js-hide" data-department="All" onclick="location.href='../html/ci.html';">
                        <div class="action-card-icon-circle">
                        <i class="fas fa-lightbulb"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                                <h3>CI Form</h3>
                            </div>
                            <div class="action-card-description">
                        <p>Report Improvement Ideas</p>
                            </div>
                        </div>
                    </div>
                    -->
                    <div class="action-card js-hide desktop-only" data-department="Production" data-user-level="1" onclick="location.href='../html/stock-report.html'">
                        <div class="action-card-icon-circle">
                            <i class="fas fa-cube"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                                <h3>Stock Report</h3>
                            </div>
                            <div class="action-card-description">
                                <p>Access Stock Report System</p>
                            </div>
                        </div>
                    </div>
                    <div class="action-card js-hide desktop-only" data-department="Quality Control,Quality Assurance" onclick="location.href='../html/rtcis.html'">
                        <div class="action-card-icon-circle">
                        <i class="fas fa-print"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                        <h3>RTCIS Labels</h3>
                            </div>
                            <div class="action-card-description">
                        <p>Generate, Print & Manage <br> RTCIS Labels</p>
                            </div>
                        </div>
                    </div>

                     <div class="action-card js-hide desktop-only" data-department="Quality Control,Quality Assurance,Production,PGM" onclick="location.href='../html/production-report.html'">
                        <div class="action-card-icon-circle">
                        <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                        <h3>Production Reports</h3>
                            </div>
                            <div class="action-card-description">
                        <p>View Production Reports</p>
                            </div>
                        </div>
                    </div>
                    <!--
                     <div class="action-card js-hide" data-department="Quality Control,Quality Assurance" onclick="//" title="Incoming Inspection form not yet available">
                        <div class="action-card-icon-circle">
                        <i class="fas fa-search"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                        <h3>Incoming Inspection</h3>
                            </div>
                            <div class="action-card-description">
                        <p>Prepare/View Incoming Inspection Reports</p>
                            </div>
                        </div>
                    </div>
                    -->
                    <div class="action-card js-hide" data-department="All" onclick="sessionStorage.setItem('myFormsJustArrived','1'); sessionStorage.setItem('myFormsPrevPage', window.location.href); location.href='../html/my-forms.html'">
                        <div class="action-card-icon-circle">
                        <i class="fas fa-clipboard-list"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                        <h3>My Forms</h3>
                            </div>
                            <div class="action-card-description">
                        <p>View Your Submitted Forms</p>
                            </div>
                        </div>
                    </div>
                    <!--
                    <div class="action-card js-hide" data-department="Warehouse" onclick="location.href='../html/goods-received-notes-table.html'">
                        <div class="action-card-icon-circle">
                            <i class="fas fa-list-ul"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                                <h3>Goods Received Note (GRN)</h3>
                            </div>
                            <div class="action-card-description">
                                <p>Create & Manage All GRNs</p>
                            </div>
                        </div>
                    </div>
                    -->
                    <!--
                    <div class="action-card js-hide" data-department="Production" onclick="location.href='../html/material-requisition-form-list.html'">
                        <div class="action-card-icon-circle">
                            <i class="fas fa-file-invoice"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                                <h3>Material Requisition</h3>
                            </div>
                            <div class="action-card-description">
                                <p>View & Manage Material Requisitions</p>
                            </div>
                        </div>
                    </div>
                    -->
                    <div class="action-card js-hide desktop-only" data-department="Maintenance" onclick="location.href='../html/mjr-management.html'">
                        <div class="action-card-icon-circle">
                        <i class="fas fa-tools"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                        <h3>MJR & Maintenance <br> Machines Management</h3>
                            </div>
                            <div class="action-card-description">
                        <p>View & Manage All MJRs <br> & Machines</p>
                            </div>
                        </div>
                    </div>

                    <div class="action-card js-hide desktop-only" data-department="All" data-exclude-department="Maintenance" onclick="location.href='../html/mjr-form.html'">
                        <div class="action-card-icon-circle">
                            <i class="fas fa-wrench"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                                <h3>Maintenance Job <br> Requisition Form (MJR)</h3>
                            </div>
                            <div class="action-card-description">
                                <p>Submit Maintenance Job <br> Requests</p>
                            </div>
                        </div>
                    </div>

                    <div class="action-card js-hide desktop-only" data-department="Quality Control,Quality Assurance,PGM" onclick="location.href='../html/film-inspection-forms-html/film-inspection-forms-list.html'">
                        <div class="action-card-icon-circle">
                        <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                        <h3>Prestore & <br> Film Inspection Form</h3>
                            </div>
                            <div class="action-card-description">
                        <p>Access Prestore & Film <br> Inspection Forms</p>
                            </div>
                        </div>
                    </div>

                    <div class="action-card js-hide desktop-only" data-department="Quality Assurance" data-user-level="1" onclick="location.href='../html/quality-alerts-table.html?from=employee-dashboard'">
                        <div class="action-card-icon-circle">
                            <i class="fas fa-exclamation-circle"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                                <h3>View All Quality Alerts</h3>
                            </div>
                            <div class="action-card-description">
                                <p>Edit Status</p>
                            </div>
                        </div>
                    </div>

                    <div class="action-card js-hide desktop-only" data-department="Quality Control,Quality Assurance,Production,PGM" onclick="location.href='../html/inline-inspection-form.html'">
                        <div class="action-card-icon-circle">
                            <i class="fas fa-search-plus"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                                <h3>Inline Inspection Form</h3>
                            </div>
                            <div class="action-card-description">
                                <p>Create and Submit <br> Inline Inspection Forms</p>
                            </div>
                        </div>
                    </div>

                    <!-- Admin & HR Cards - Only visible to Human Resources and Administration users with level 1 -->
                    <div class="action-card js-hide desktop-only" data-department="Human Resources,Administration" data-user-level="1" onclick="location.href='../html/user-mgmt.html'">
                        <div class="action-card-icon-circle">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                                <h3>User Management</h3>
                            </div>
                            <div class="action-card-description">
                                <p>Create new users and <br> manage existing accounts.</p>
                            </div>
                        </div>
                    </div>
                    <div class="action-card js-hide desktop-only" data-department="Human Resources,Administration" data-user-level="1" onclick="location.href='../html/job-posting-mgmt.html'">
                        <div class="action-card-icon-circle">
                            <i class="fas fa-briefcase"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                                <h3>Job Postings</h3>
                            </div>
                            <div class="action-card-description">
                                <p>Create, update, and manage <br> job listings for the careers page.</p>
                            </div>
                        </div>
                    </div>
                    <div class="action-card js-hide desktop-only" data-department="Human Resources,Administration" data-user-level="1" onclick="location.href='../html/gallery-admin.html'">
                        <div class="action-card-icon-circle">
                            <i class="fas fa-images"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                                <h3>Gallery Management</h3>
                            </div>
                            <div class="action-card-description">
                                <p>Manage website gallery <br> albums and images.</p>
                            </div>
                        </div>
                    </div>
                    <div class="action-card js-hide desktop-only" data-department="Human Resources,Administration" data-user-level="1" onclick="location.href='../html/safety-incidents-table.html'">
                        <div class="action-card-icon-circle">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                                <h3>View All Safety Incidents</h3>
                            </div>
                            <div class="action-card-description">
                                <p>Review and manage all <br> reported safety incidents.</p>
                            </div>
                        </div>
                    </div>
                    <div class="action-card js-hide desktop-only" data-department="Human Resources,Administration" data-user-level="1" onclick="location.href='../html/fire-extinguisher-mgmt.html'">
                        <div class="action-card-icon-circle">
                            <i class="fas fa-fire"></i>
                        </div>
                        <div class="action-card-content">
                            <div class="action-card-heading">
                                <h3>Fire Extinguisher <br> Management</h3>
                            </div>
                            <div class="action-card-description">
                                <p>Manage fire extinguisher <br> inventory and inspections.</p>
                            </div>
                        </div>
                    </div>

                </div>

                <div id="recentActivitiesList" class="activity-list">
                </div>

            </section>
            <section class="incident-section">
                </section>
        </div>
    </main>
    
    <!-- Logout Confirmation Modal -->
    <div id="logoutModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Confirm Logout</h3>
                <button class="modal-close" id="logoutModalClose">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-icon">
                    <i class="fas fa-sign-out-alt"></i>
                </div>
                <p>Are you sure you want to log out?</p>
                <p class="modal-subtitle">You will be redirected to the login page.</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="logoutCancel">Cancel</button>
                <button class="btn btn-primary" id="logoutConfirm">Logout</button>
            </div>
        </div>
    </div>

    <!-- Message Modal for errors/success -->
    <div id="messageModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="messageModalTitle">Message</h3>
                <button class="modal-close" id="messageModalClose">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-icon" id="messageModalIcon">
                    <i class="fas fa-info-circle"></i>
                </div>
                <p id="messageModalText">Message content</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="messageModalOk">OK</button>
            </div>
        </div>
    </div>

    <script type="module" src="../js/employee-dashboard.js"></script>
</body>
</html>