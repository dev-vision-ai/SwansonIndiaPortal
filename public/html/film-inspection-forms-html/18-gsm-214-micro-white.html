<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="google" content="notranslate">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>18 GSM 214 Micro White Inspection Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <link rel="stylesheet" href="../../css/employee-dashboard.css">
    <link rel="stylesheet" href="../../css/common-header.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            font-weight: 500;
        }
        
        /* Ensure word wrap for all text content across the entire form */
        * {
            word-wrap: break-word !important;
            overflow-wrap: break-word !important;
            white-space: normal !important;
        }
        table, th, td {
            font-size: 13px;
            border-radius: 0 !important;
        }
        .bg-white, .rounded-xl, .rounded-lg, .rounded-none, .rounded {
            border-radius: 0 !important;
        }
        /* ===== CLEAN INLINE INSPECTION FORM STYLING ===== */
        /* Clean, minimal styling like inline inspection form */
        .testing-table {
            border-collapse: collapse;
            width: 100%;
            background: white;
        }
        
        .testing-table th {
            background: rgba(59, 130, 246, 0.1) !important; /* Light blue with low opacity */
            border: 1px solid #6b7280 !important; /* Light black border */
            padding: 8px 6px !important;
            text-align: center !important;
            font-weight: 600 !important;
            color: #374151 !important; /* Dark gray text for better readability */
            /* Removed text shadow for cleaner look */
        }
        
        .testing-table td {
            background: white !important; /* White background */
            border: 1px solid #6b7280 !important; /* Light black border */
            padding: 6px 8px !important;
            text-align: center !important;
            vertical-align: middle !important;
            transition: all 0.2s ease !important; /* Smooth transitions */
        }
        
        /* All rows have same background color */
        .testing-table tr:nth-child(even) td {
            background: white !important; /* White background */
        }
        
        .testing-table tr:nth-child(odd) td {
            background: white !important; /* White background */
        }
        
        .testing-table:not(.modern-header-table) tbody tr:hover td {
            background: rgba(135, 206, 235, 0.3) !important; /* Light sky blue hover */
            /* Removed transform - no pop up effect */
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05) !important; /* Very subtle shadow */
        }
        
        /* Prevent hover effect on summary rows */
        .testing-table:not(.modern-header-table) tbody tr.average-row:hover td,
        .testing-table:not(.modern-header-table) tbody tr:nth-last-child(2):hover td,
        .testing-table:not(.modern-header-table) tbody tr:nth-last-child(1):hover td {
            background: #fef08a !important; /* Keep yellow background on hover */
            box-shadow: none !important; /* Remove shadow on hover */
        }
        
        /* Modern borders */
        .testing-table tr,
        .testing-table td,
        .testing-table th {
            border: 1px solid #6b7280 !important; /* Light black border */
        }
        
        /* Ensure highlighted cells completely override original borders - INSTANT */
        .testing-table td.highlighted,
        .testing-table th.highlighted {
            border: none !important; /* Remove original border */
            outline: 2px solid #000000 !important; /* Black outline - doesn't affect dimensions */
            outline-offset: -2px !important; /* Overlap with original border space */
            border-radius: 6px !important; /* Curved/rounded edges */
            transition: none !important; /* No transition - instant outline change */
            margin: 0 !important; /* No extra margins */
            padding: 6px 8px !important; /* Keep same padding as normal cells */
        }
        
        /* Styling for dynamically created table cells */
        .testing-table-cell {
            background: white !important; /* White background */
            border: 1px solid #6b7280 !important; /* Light black border */
            padding: 6px 8px !important;
            text-align: center !important;
            vertical-align: middle !important;
            transition: all 0.2s ease !important; /* Smooth transitions */
        }
        
        /* ===== CELL HIGHLIGHTING STYLES ===== */
        /* Single black outline highlighting with curved edges - NO DIMENSION CHANGES */
        .testing-table-cell.highlighted,
        .testing-table td.highlighted,
        .testing-table th.highlighted {
            border: none !important;
            outline: 2px solid #000000 !important;
            outline-offset: -2px !important;
            border-radius: 6px !important;
            transition: none !important;
        }
        /* Remove number input spinners */
        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type="number"] {
            appearance: textfield;
            -moz-appearance: textfield;
        }
        
        /* Remove select dropdown arrows and spinners */
        select::-webkit-outer-spin-button,
        select::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }
        
        /* ===== INLINE INSPECTION FORM STYLING ===== */
        /* Seamless input field styling to match inline inspection form */
        .testing-table input[type="text"],
        .testing-table input[type="number"] {
            background: transparent !important;
            border: none !important;
            outline: none !important;
            box-shadow: none !important;
            padding: 0 !important;
            margin: 0 !important;
            width: 100% !important;
            height: 100% !important;
            text-align: center !important;
            font-size: 13px !important;
            font-family: inherit !important;
            line-height: 1 !important;
            vertical-align: middle !important;
        }
        
        /* Focus styling for input fields */
        .testing-table input[type="text"]:focus,
        .testing-table input[type="number"]:focus {
            background: transparent !important;
            border: none !important;
            outline: none !important;
            box-shadow: none !important;
            transform: none !important;
        }
        
        /* Ensure cells maintain consistent height */
        .testing-table td {
            height: auto !important;
            min-height: 0 !important;
            max-height: none !important;
            padding: 6px 8px !important;
            vertical-align: middle !important;
        }
        
        /* Remove any hover effects that might affect height - but not for header table */
        .testing-table:not(.modern-header-table) td:hover {
            height: auto !important;
        }

        /* Enhanced text wrapping for General Product & Production Information table */
        .testing-table.modern-header-table td {
            white-space: normal !important;
            word-wrap: break-word !important;
            overflow-wrap: break-word !important;
            overflow: visible !important;
            text-overflow: clip !important;
        }

        /* Ensure input fields in General Product & Production Information show complete text */
        .testing-table.modern-header-table input[type="text"],
        .testing-table.modern-header-table input[type="number"] {
            white-space: normal !important;
            word-wrap: break-word !important;
            overflow-wrap: break-word !important;
            overflow: visible !important;
            text-overflow: clip !important;
            max-width: 100% !important;
            width: 100% !important;
        }

        /* Allow General Product & Production Information table cells to expand if needed */
        .testing-table.modern-header-table {
            table-layout: auto !important;
        }

        /* Ensure no text is cut off in populated fields of General Product & Production Information */
        .testing-table.modern-header-table td:nth-child(2),
        .testing-table.modern-header-table td:nth-child(4),
        .testing-table.modern-header-table td:nth-child(6),
        .testing-table.modern-header-table td:nth-child(8) {
            overflow: visible !important;
            text-overflow: clip !important;
            white-space: normal !important;
        }
        
        /* Professional header table styling */
        .modern-header-table td {
            background: linear-gradient(135deg, #f8fafc 0%, #e5e7eb 100%) !important; /* Professional gray gradient */
            border: 1px solid #d1d5db !important; /* Professional border */
            transition: none !important; /* No transitions for read-only fields */
        }

        /* Specific styling for testing-input class */
        .testing-input {
            background: transparent !important;
            border: none !important;
            outline: none !important;
            box-shadow: none !important;
            padding: 0 !important;
            margin: 0 !important;
            width: 100% !important;
            height: 100% !important;
            text-align: center !important;
            font-size: 13px !important;
            font-family: inherit !important;
            line-height: 1 !important;
            vertical-align: middle !important;
        }

        /* Sample No. columns (1st and 3rd columns) - for Page 1 */
        .testing-table td:nth-child(1), .testing-table th:nth-child(1),
        .testing-table td:nth-child(3), .testing-table th:nth-child(3) {
            width: 5.5%;
            min-width: 50px;
            max-width: 50px;
        }
        
        /* Roll ID column (2nd column) - wider for 8-digit numbers */
        .testing-table td:nth-child(2), .testing-table th:nth-child(2) {
            width: 7%;
            min-width: 70px;
            max-width: 70px;
        }
        
        /* Parameter columns (remaining 9 columns) - for Page 1 */
        .testing-table td:nth-child(4), .testing-table th:nth-child(4),
        .testing-table td:nth-child(5), .testing-table th:nth-child(5),
        .testing-table td:nth-child(6), .testing-table th:nth-child(6),
        .testing-table td:nth-child(7), .testing-table th:nth-child(7),
        .testing-table td:nth-child(8), .testing-table th:nth-child(8),
        .testing-table td:nth-child(9), .testing-table th:nth-child(9),
        .testing-table td:nth-child(10), .testing-table th:nth-child(10),
        .testing-table td:nth-child(11), .testing-table th:nth-child(11),
        .testing-table td:nth-child(12), .testing-table th:nth-child(12) {
            width: 9.11%; /* (100% - 18%) / 9 = 9.11% each */
            min-width: 80px;
        }
        /* Page 2 - Sample No. columns (1st and 3rd columns) */
        .page2-table td:nth-child(1), .page2-table th:nth-child(1),
        .page2-table td:nth-child(3), .page2-table th:nth-child(3) {
            width: 5.5% !important;
            min-width: 50px !important;
            max-width: 50px !important;
        }
        
        /* Page 2 - Roll ID column (2nd column) - wider for 8-digit numbers */
        .page2-table td:nth-child(2), .page2-table th:nth-child(2) {
            width: 7% !important;
            min-width: 70px !important;
            max-width: 70px !important;
        }
        
        /* Page 2 - Parameter columns (remaining 8 columns) - equal width */
        .page2-table td:nth-child(4), .page2-table th:nth-child(4),
        .page2-table td:nth-child(5), .page2-table th:nth-child(5),
        .page2-table td:nth-child(6), .page2-table th:nth-child(6),
        .page2-table td:nth-child(7), .page2-table th:nth-child(7),
        .page2-table td:nth-child(8), .page2-table th:nth-child(8),
        .page2-table td:nth-child(9), .page2-table th:nth-child(9),
        .page2-table td:nth-child(10), .page2-table th:nth-child(10),
        .page2-table td:nth-child(11), .page2-table th:nth-child(11) {
            width: 10.25% !important; /* (100% - 18%) / 8 = 10.25% each */
            min-width: 80px !important;
        }
        
        /* Override for merged Sample No. header in Page 2 */
        .page2-table th[colspan="3"][rowspan="2"] {
            width: 18% !important; /* 5.5% + 7% + 5.5% = 18% */
            min-width: 170px !important;
        }
        
        /* Yellow background for summary rows - ONLY in testing parameter tables */
        .testing-table:not(.modern-header-table) tr.average-row td,
        .testing-table:not(.modern-header-table) tr.average-row th {
            background: #fef08a !important; /* Yellow background */
            font-weight: 600 !important; /* Make text bold for better visibility */
        }
        
        /* Yellow background for minimum and maximum rows - ONLY in testing parameter tables */
        .testing-table:not(.modern-header-table) tbody tr:nth-last-child(2) td,
        .testing-table:not(.modern-header-table) tbody tr:nth-last-child(1) td {
            background: #fef08a !important; /* Yellow background */
            font-weight: 600 !important; /* Make text bold for better visibility */
        }
        
        /* Background color for label cells in General Product & Production Information table - OVERRIDE all other rules */
        .testing-table.modern-header-table td:first-child,
        .testing-table.modern-header-table td:nth-child(3),
        .testing-table.modern-header-table td:nth-child(5),
        .testing-table.modern-header-table td:nth-child(7) {
            background: #f1f5f9 !important; /* Light greyish background for labels */
            font-weight: 600 !important; /* Bold text for labels */
        }
        
            /* Keep input data cells with white background - OVERRIDE all other rules */
            .testing-table.modern-header-table td:nth-child(2),
            .testing-table.modern-header-table td:nth-child(4),
            .testing-table.modern-header-table td:nth-child(6),
            .testing-table.modern-header-table td:nth-child(8) {
                background: white !important; /* White background for input cells */
            }
        
        /* Also ensure font size for all data cells in the modern-header-table */
        .testing-table.modern-header-table td,
        .testing-table.modern-header-table td:nth-child(2),
        .testing-table.modern-header-table td:nth-child(4),
        .testing-table.modern-header-table td:nth-child(6),
        .testing-table.modern-header-table td:nth-child(8) {
            font-size: 13px !important; /* Unified font size for labels and data */
        }
        
        /* Light greyish background for headers in testing parameter tables (Pages 1, 2, 3, 4) */
        .testing-table:not(.modern-header-table) thead th,
        .testing-table:not(.modern-header-table) thead td {
            background: #f1f5f9 !important; /* Light greyish background for headers */
            font-weight: 600 !important; /* Bold text for headers */
        }
        
        /* Remove background color from "Testing Equipment Identification Number" row - make it white */
        .testing-table:not(.modern-header-table) thead tr:first-child td,
        .testing-table:not(.modern-header-table) thead tr:first-child th {
            background: white !important; /* White background for equipment identification row */
        }
        
        
        /* Simple square button styles for row management */
        .modern-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 28px;
            border: none;
            border-radius: 0;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: none;
            box-shadow: none;
            vertical-align: middle;
        }
        
        .modern-btn:hover {
            transform: none;
            box-shadow: none;
        }
        
        .modern-btn:active {
            transform: none;
            box-shadow: none;
        }
        
        .add-btn {
            background: #10b981;
            color: white;
        }
        
        .add-btn:hover {
            background: #059669;
        }
        
        .delete-btn {
            background: #ef4444;
            color: white;
        }
        
        .delete-btn:hover {
            background: #dc2626;
        }
        
        /* Equipment dropdown cell background when equipment is selected */
        .testing-table select.equipment-selected {
            background-color: #dcfce7 !important; /* Light green background when equipment is selected */
        }
        
        /* Equipment dropdown cell background when no equipment is selected (default state) */
        .testing-table select {
            background-color: transparent !important; /* Transparent background by default */
        }

        /* Consistent font size for view-only form elements */
        .view-form-element {
            font-size: 13px !important;
        }

        /* Consistent styling for span elements in view-only sections */
        .view-span-element {
            font-size: 13px !important;
            color: #111827 !important;
            padding: 2px 4px !important;
            font-weight: 500 !important;
        }
        
        /* Equipment dropdown cell background when equipment is selected */
        .testing-table select.equipment-selected {
            background-color: #dcfce7 !important; /* Light green background when equipment is selected */
        }
        
        /* Equipment dropdown cell background when no equipment is selected (default state) */
        .testing-table select {
            background-color: transparent !important; /* Transparent background by default */
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-900 font-roboto-medium min-h-screen">
    <div class="header-container">
        <button type="button" class="header-back-button" onclick="window.location.href='film-inspection-forms-list.html'">Back</button>
        <div class="header-title">Film Inspection Form</div>
        <div class="company-logo">
            <img src="../../assets/logo.png" alt="Company Logo">
        </div>
    </div>

    <main class="flex flex-col w-full min-h-screen pt-8 gap-8 p-0">
        <div class="bg-white rounded-none shadow-2xl w-full h-full min-h-[calc(100vh-96px)] p-8">
            <h2 id="formTitle" class="text-2xl font-bold text-gray-800 mb-6 text-center"></h2>
            
    <!-- Pre-Store Inspection Information Section (View Mode Only) -->
    <section id="prestore-section" class="mb-8 border border-black rounded-lg p-3" style="display: none; background-color: #f0f9ff;">
                <h3 class="font-semibold text-gray-800 mb-1 text-center" style="font-size: 16px;">Pre-Store Inspection Details</h3>
                <div class="flex justify-center mb-4">
                    <hr class="border-gray-400 w-48">
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-x-1 gap-y-3">
                    <!-- Row 1: Production Instruction, Product Name, Specification, Pallet Size, Customer -->
                    <div class="col-span-full grid grid-cols-5 gap-3 mb-1">
                        <div>
                            <label class="block font-medium text-black mb-1 view-form-element">Production Instruction (PI) No.:</label>
                            <div class="block w-full px-2 py-1.5 border border-gray-300 bg-gray-50 view-form-element" id="view-production-order">-</div>
                        </div>
                        <div>
                            <label class="block font-medium text-black mb-1 view-form-element">Product Name:</label>
                            <div class="block w-full px-2 py-1.5 border border-gray-300 bg-gray-50 view-form-element" id="view-product-code">-</div>
                        </div>
                        <div>
                            <label class="block font-medium text-black mb-1 view-form-element">Specification:</label>
                            <div class="block w-full px-2 py-1.5 border border-gray-300 bg-gray-50 view-form-element" id="view-specification">-</div>
                        </div>
                        <div>
                            <label class="block font-medium text-black mb-1 view-form-element">Pallet Size:</label>
                            <div class="block w-full px-2 py-1.5 border border-gray-300 bg-gray-50 view-form-element" id="view-pallet-size">-</div>
                        </div>
                        <div>
                            <label class="block font-medium text-black mb-1 view-form-element">Customer:</label>
                            <div class="block w-full px-2 py-1.5 border border-gray-300 bg-gray-50 view-form-element" id="view-customer">-</div>
                        </div>
                    </div>
                    
                    <!-- Row 2: Location, Machine No, Quantity, Production Date, Inspection Date -->
                    <div class="col-span-full grid grid-cols-5 gap-3 mb-1">
                        <div>
                            <label class="block font-medium text-black mb-1 view-form-element">Location:</label>
                            <div class="block w-full px-2 py-1.5 border border-gray-300 bg-gray-50 view-form-element" id="view-location">-</div>
                        </div>
                        <div>
                            <label class="block font-medium text-black mb-1 view-form-element">Machine No.:</label>
                            <div class="block w-full px-2 py-1.5 border border-gray-300 bg-gray-50 view-form-element" id="view-machine-no">-</div>
                        </div>
                        <div>
                            <label class="block font-medium text-black mb-1 view-form-element">Quantity (Rolls):</label>
                            <div class="block w-full px-2 py-1.5 border border-gray-300 bg-gray-50 view-form-element" id="view-quantity">-</div>
                        </div>
                        <div>
                            <label class="block font-medium text-black mb-1 view-form-element">Production Date:</label>
                            <div class="block w-full px-2 py-1.5 border border-gray-300 bg-gray-50 view-form-element" id="view-production-date">-</div>
                        </div>
                        <div>
                            <label class="block font-medium text-black mb-1 view-form-element">Inspection Date:</label>
                            <div class="block w-full px-2 py-1.5 border border-gray-300 bg-gray-50 view-form-element" id="view-inspection-date">-</div>
                        </div>
                    </div>
                    
                    <!-- Row 3: Standard Packing, Batch, Reference No, Pre-store Done By -->
                    <div class="col-span-full grid grid-cols-5 gap-3 mb-1">
                        <div>
                            <label class="block font-medium text-black mb-1 view-form-element">Standard Packing:</label>
                            <div class="block w-full px-2 py-1.5 border border-gray-300 bg-gray-50 view-form-element" id="view-standard-packing">-</div>
                        </div>
                        <div>
                            <label class="block font-medium text-black mb-1 view-form-element">Batch:</label>
                            <div class="block w-full px-2 py-1.5 border border-gray-300 bg-gray-50 view-form-element" id="view-batch">-</div>
                        </div>
                        <div>
                            <label class="block font-medium text-black mb-1 view-form-element">Reference No:</label>
                            <div class="block w-full px-2 py-1.5 border border-gray-300 bg-gray-50 view-form-element" id="view-ref-no">-</div>
                        </div>
                        <div>
                            <label class="block font-medium text-black mb-1 view-form-element">Pre-store Done By:</label>
                            <div class="block w-full px-2 py-1.5 border border-gray-300 bg-gray-50 view-form-element" id="view-prestore-done-by">-</div>
                        </div>
                        <div>
                            <!-- Empty field for consistent grid layout -->
                        </div>
                    </div>
                    
                    <!-- Row 4: Empty row for spacing -->
                    <div class="col-span-full grid grid-cols-5 gap-1">
                        <div>
                            <!-- Empty field for consistent grid layout -->
                        </div>
                        <div>
                            <!-- Empty field for consistent grid layout -->
                        </div>
                        <div>
                            <!-- Empty field for consistent grid layout -->
                        </div>
                        <div>
                            <!-- Empty field for consistent grid layout -->
                        </div>
                        <div>
                            <!-- Empty field for consistent grid layout -->
                        </div>
                    </div>
                    
                    <!-- Palletized Finished Goods Status Section -->
                    <div class="col-span-full mt-1 p-3 border border-black bg-white">
                        <h3 class="font-medium leading-6 text-black mb-1 view-form-element">Palletized Finished Goods Status</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3">
                            <div class="p-2 bg-gray-50 border border-gray-300">
                                <label class="block font-medium text-black mb-1 view-form-element">Pallet List:</label>
                                <hr class="border-gray-400 mb-1">
                                <div class="flex space-x-3">
                                    <div class="flex items-center">
                                        <span class="view-span-element" id="view-pallet-list">-</span>
                                    </div>
                                </div>
                            </div>
                            <div class="p-2 bg-gray-50 border border-gray-300">
                                <label class="block font-medium text-black mb-1 view-form-element">Product Identification Label:</label>
                                <hr class="border-gray-400 mb-1">
                                <div class="flex space-x-3">
                                    <div class="flex items-center">
                                        <span class="view-span-element" id="view-product-label">-</span>
                                    </div>
                                </div>
                            </div>
                            <div class="p-2 bg-gray-50 border border-gray-300">
                                <label class="block font-medium text-black mb-1 view-form-element">Wrapping Done Properly:</label>
                                <hr class="border-gray-400 mb-1">
                                <div class="flex space-x-3">
                                    <div class="flex items-center">
                                        <span class="view-span-element" id="view-wrapping">-</span>
                                    </div>
                                </div>
                            </div>
                            <div class="p-2 bg-gray-50 border border-gray-300">
                                <label class="block font-medium text-black mb-1 view-form-element">Layer Pad:</label>
                                <hr class="border-gray-400 mb-1">
                                <div class="flex space-x-3">
                                    <div class="flex items-center">
                                        <span class="view-span-element" id="view-layer-pad">-</span>
                                    </div>
                                </div>
                            </div>
                            <div class="p-2 bg-gray-50 border border-gray-300">
                                <label class="block font-medium text-black mb-1 view-form-element">No Contamination:</label>
                                <hr class="border-gray-400 mb-1">
                                <div class="flex space-x-3">
                                    <div class="flex items-center">
                                        <span class="view-span-element" id="view-contamination">-</span>
                                    </div>
                                </div>
                            </div>
                            <div class="p-2 bg-gray-50 border border-gray-300">
                                <label class="block font-medium text-black mb-1 view-form-element">Kraft Paper:</label>
                                <hr class="border-gray-400 mb-1">
                                <div class="flex space-x-3">
                                    <div class="flex items-center">
                                        <span class="view-span-element" id="view-kraft-paper">-</span>
                                    </div>
                                </div>
                            </div>
                            <div class="p-2 bg-gray-50 border border-gray-300">
                                <label class="block font-medium text-black mb-1 view-form-element">No Damage:</label>
                                <hr class="border-gray-400 mb-1">
                                <div class="flex space-x-3">
                                    <div class="flex items-center">
                                        <span class="view-span-element" id="view-no-damage">-</span>
                                    </div>
                                </div>
                            </div>
                            <div class="p-2 bg-gray-50 border border-gray-300">
                                <label class="block font-medium text-black mb-1 view-form-element">Pallet:</label>
                                <hr class="border-gray-400 mb-1">
                                <div class="flex space-x-3">
                                    <div class="flex items-center">
                                        <span class="view-span-element" id="view-pallet">-</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Remarks Section -->
                    <div class="col-span-full mt-1">
                                <label class="block font-medium text-black mb-1 view-form-element">Remarks:</label>
                        <div class="block w-full px-2 py-1.5 border border-gray-300 bg-gray-50 min-h-[40px] view-form-element" id="view-remarks">-</div>
                    </div>
                </div>
            </section>
            
            <!-- General Product & Production Information Section -->
            <section class="mb-8 border border-black rounded-lg p-6" style="background-color: #f0f9ff;">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">General Product & Production Information</h3>
                <table class="w-full border-2 border-gray-800 bg-white testing-table modern-header-table" style="font-size: 13px; table-layout: auto; word-wrap: break-word;">
                    <tr>
                        <td class="border border-gray-800 font-semibold testing-table-cell" style="width: 20%; word-wrap: break-word; overflow-wrap: break-word; white-space: normal;">Product Code:</td>
                        <td class="border border-gray-800 testing-table-cell" style="width: 20%; word-wrap: break-word; overflow-wrap: break-word; white-space: normal;">
                            <input type="text" id="productCodeInput" class="w-full testing-input" placeholder="Enter Product Code" style="white-space: normal;">
                        </td>
                        <td class="border border-gray-800 font-semibold testing-table-cell" style="width: 15%; word-wrap: break-word; overflow-wrap: break-word; white-space: normal;">Prod. Order:</td>
                        <td class="border border-gray-800 testing-table-cell" style="width: 15%; word-wrap: break-word; overflow-wrap: break-word; white-space: normal;">
                            <input type="text" class="w-full testing-input" placeholder="Enter Prod. Order" style="white-space: normal;">
                        </td>
                        <td class="border border-gray-800 font-semibold testing-table-cell" style="width: 5%; word-wrap: break-word; overflow-wrap: break-word; white-space: normal;">Machine:</td>
                        <td class="border border-gray-800 testing-table-cell" style="width: 5%; word-wrap: break-word; overflow-wrap: break-word; white-space: normal;">
                            <input type="text" class="w-full testing-input" placeholder="Enter Machine" style="white-space: normal;">
                        </td>
                        <td class="border border-gray-800 font-semibold testing-table-cell" style="width: 10%; word-wrap: break-word; overflow-wrap: break-word; white-space: normal;">Production Date:</td>
                        <td class="border border-gray-800 testing-table-cell" style="width: 10%; word-wrap: break-word; overflow-wrap: break-word; white-space: normal;">
                            <input type="date" class="w-full testing-input" style="white-space: normal;">
                        </td>
                    </tr>
                    <tr>
                        <td class="border border-gray-800 font-semibold testing-table-cell" style="width: 20%; word-wrap: break-word; overflow-wrap: break-word; white-space: normal;">Specification:</td>
                        <td class="border border-gray-800 testing-table-cell" style="width: 20%; word-wrap: break-word; overflow-wrap: break-word; white-space: normal;">
                            <input type="text" class="w-full testing-input" placeholder="Enter Specification" style="white-space: normal;">
                        </td>
                        <td class="border border-gray-800 font-semibold testing-table-cell" style="width: 5%; word-wrap: break-word; overflow-wrap: break-word; white-space: normal;">PO:</td>
                        <td class="border border-gray-800 testing-table-cell" style="width: 5%; word-wrap: break-word; overflow-wrap: break-word; white-space: normal;">
                            <input type="text" class="w-full testing-input" placeholder="Enter PO" value="N/A" style="white-space: normal;">
                        </td>
                        <td class="border border-gray-800 font-semibold testing-table-cell" style="width: 12%; word-wrap: break-word; overflow-wrap: break-word; white-space: normal;">Quantity (Rolls):</td>
                        <td class="border border-gray-800 testing-table-cell" style="width: 12%; word-wrap: break-word; overflow-wrap: break-word; white-space: normal;">
                            <input type="text" class="w-full testing-input" placeholder="Enter Quantity" style="white-space: normal;">
                        </td>
                        <td class="border border-gray-800 font-semibold testing-table-cell" style="width: 13%; word-wrap: break-word; overflow-wrap: break-word; white-space: normal;">Inspection Date:</td>
                        <td class="border border-gray-800 testing-table-cell" style="width: 13%; word-wrap: break-word; overflow-wrap: break-word; white-space: normal;">
                            <input type="date" class="w-full testing-input" style="white-space: normal;">
                        </td>
                    </tr>

                </table>
            </section>

            <!-- Bottom Section - Testing Parameters Table -->
            <section class="mb-8 border border-black rounded-lg p-6" style="background-color: #f0f9ff;">
                <h3 class="text-lg font-semibold text-gray-800 mb-4 text-center">Page 1 of 2</h3>
                
                            <!-- Add/Delete Rows Controls -->
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <span id="rowCountDisplay" class="text-sm font-bold text-gray-700">Rows: 0</span>
                    <input id="numRowsInput" type="number" min="1" value="" class="px-1 py-1 border-2 border-black rounded text-sm bg-yellow-200" style="width:28px; height:28px;" title="Number of rows to add/delete" />
                    <button id="addNewRowsBtn" class="modern-btn add-btn" title="Add New Rows">+</button>
                    <button id="deleteRowsBtn" class="modern-btn delete-btn" title="Delete Rows">−</button>
                </div>
            </div>
                
                <!-- Testing Parameters Table with merged header -->
                <div class="overflow-x-auto">
                    <table class="w-full border-2 border-gray-800 bg-white testing-table view-form-element">
                        <thead>
                            <tr class="bg-gray-100">
                                <td class="border-b-2 border-gray-800 px-3 py-2 text-left font-semibold view-form-element" colspan="3">Testing Equipment Identification Number:</td>
                                <td class="border-b-2 border-gray-800 p-0 view-form-element"><select id="basic-weight-equipment" style="font-size: 11px; cursor: pointer; padding: 8px 20px 8px 12px; box-shadow: none; -webkit-appearance: none; -moz-appearance: none; appearance: none; width: 100%; height: 100%; text-align: center; border: 0; background: transparent; outline: none;"><option value="">Select Equipment ▼</option></select></td>
                                <td class="border-b-2 border-gray-800 p-0 view-form-element"><select id="cof-rr-equipment" style="font-size: 11px; cursor: pointer; padding: 8px 20px 8px 12px; box-shadow: none; -webkit-appearance: none; -moz-appearance: none; appearance: none; width: 100%; height: 100%; text-align: center; border: 0; background: transparent; outline: none;"><option value="">Select Equipment ▼</option></select></td>
                                <td class="border-b-2 border-gray-800 p-0 view-form-element"><select id="cof-rs-equipment" style="font-size: 11px; cursor: pointer; padding: 8px 20px 8px 12px; box-shadow: none; -webkit-appearance: none; -moz-appearance: none; appearance: none; width: 100%; height: 100%; text-align: center; border: 0; background: transparent; outline: none;"><option value="">Select Equipment ▼</option></select></td>
                                <td class="border-b-2 border-gray-800 p-0 view-form-element"><select id="opacity-equipment" style="font-size: 11px; cursor: pointer; padding: 8px 20px 8px 12px; box-shadow: none; -webkit-appearance: none; -moz-appearance: none; appearance: none; width: 100%; height: 100%; text-align: center; border: 0; background: transparent; outline: none;"><option value="">Select Equipment ▼</option></select></td>
                                <td class="border-b-2 border-gray-800 p-0 view-form-element" colspan="4"><select id="modulus-equipment" style="font-size: 11px; cursor: pointer; padding: 8px 20px 8px 12px; box-shadow: none; -webkit-appearance: none; -moz-appearance: none; appearance: none; width: 100%; height: 100%; text-align: center; border: 0; background: transparent; outline: none;"><option value="">Select Equipment ▼</option></select></td>
                                <td class="border-b-2 border-gray-800 p-0 view-form-element"><select id="gloss-equipment" style="font-size: 11px; cursor: pointer; padding: 8px 20px 8px 12px; box-shadow: none; -webkit-appearance: none; -moz-appearance: none; appearance: none; width: 100%; height: 100%; text-align: center; border: 0; background: transparent; outline: none;"><option value="">Select Equipment ▼</option></select></td>
                            </tr>
                            <tr class="bg-gray-100">
                                <th class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element" colspan="3" rowspan="2">Sample No.</th>
                                <th class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element" rowspan="2">Basic Weight<br>(L-15.70 T-18.00 U-20.30)<br>GSM</th>
                                <th class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element" rowspan="2">COF-Kinetic(R-R)<br>(L-0.30 T-0.40 U-0.50)</th>
                                <th class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element" rowspan="2">COF-Kinetic(R-S)<br>(L-0.10 T-0.20 U-0.35)</th>
                                <th class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element" rowspan="2">Opacity<br>(L-57.0 T-60.0 U-63.0)<br>%</th>
                                <th class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element" colspan="4">Modulus-MD-web@ 2%<br>(L-18.2 T-24.7 U-31.2) N/cm</th>
                                <th class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element" rowspan="2">Gloss Level<br>(T-7.0 U-10.0)<br>(Gloss Unit)</th>
                            </tr>
                            <tr class="bg-gray-100">
                                <th class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element">1</th>
                                <th class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element">2</th>
                                <th class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element">3</th>
                                <th class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element">Avg</th>

                            </tr>
                        </thead>
                        <tbody id="testingTableBody">
                            <!-- Summary Statistics Rows -->
                            <tr class="average-row">
                                <td class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element" colspan="3">Average</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.0</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element" colspan="3">-</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.0</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.0</td>
                            </tr>
                            <tr>
                                <td class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element" colspan="3">Minimum</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.0</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element" colspan="3">-</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.0</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.0</td>
                            </tr>
                            <tr>
                                <td class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element" colspan="3">Maximum</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.0</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element" colspan="3">-</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.0</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.0</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Page 2 Section - Testing Parameters Table -->
            <section class="mb-8 border border-black rounded-lg p-6" style="background-color: #f0f9ff;">
                <h3 class="text-lg font-semibold text-gray-800 mb-4 text-center">Page 2 of 2</h3>
                
                <!-- Row Count Display -->
                <div class="flex justify-between items-center mb-4">
                    <div class="flex items-center gap-4">
                        <span id="rowCountDisplay2" class="text-sm font-bold text-gray-700">Rows: 0</span>
                    </div>
                </div>
                
                <!-- Testing Parameters Table with merged header -->
                <div class="overflow-x-auto">
                    <table class="w-full border-2 border-gray-800 bg-white testing-table page2-table view-form-element">
                        <thead>
                            <tr class="bg-gray-100">
                                <td class="border-b-2 border-gray-800 px-3 py-2 text-left font-semibold view-form-element" colspan="3">Testing Equipment Identification Number:</td>
                                <td class="border-b-2 border-gray-800 p-0 view-form-element" colspan="4"><select id="page2-force-equipment" style="font-size: 11px; cursor: pointer; padding: 8px 20px 8px 12px; box-shadow: none; -webkit-appearance: none; -moz-appearance: none; appearance: none; width: 100%; height: 100%; text-align: center; border: 0; background: transparent; outline: none;"><option value="">Select Equipment ▼</option></select></td>
                                <td class="border-b-2 border-gray-800 p-0 view-form-element" colspan="4"><select id="page2-colour-equipment" style="font-size: 11px; cursor: pointer; padding: 8px 20px 8px 12px; box-shadow: none; -webkit-appearance: none; -moz-appearance: none; appearance: none; width: 100%; height: 100%; text-align: center; border: 0; background: transparent; outline: none;"><option value="">Select Equipment ▼</option></select></td>
                            </tr>
                            <tr class="bg-gray-100">
                                <th class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element" colspan="3">Sample No.</th>
                                <th class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element">Force-elongation-MD@5%<br>(L-1.77 T-2.77) N</th>
                                <th class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element">Force-Tensile Strength-MD-peak<br>(L-9.07 T-12.57) N</th>
                                <th class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element">Force-elongation-CD@5%<br>(L-1.49 T-2.49) N</th>
                                <th class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element">Force-Tensile Strength-CD-peak<br>(L-6.13 T-9.63) N</th>
                                <th class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element">Colour L<br>(L-91.5 T-95.5 U-99.5)<br>(Colour units-H)</th>
                                <th class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element">Colour A<br>(L-(-4.4) T-(-0.4) U-(3.6))<br>(Colour units-H)</th>
                                <th class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element">Colour B<br>(L-(-4.5) T-(-0.5) U-(3.5))<br>(Colour units-H)</th>
                                <th class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element">Delta E<br>(T-0.00 U-5.00)<br>(Colour Units-Delta E)</th>
                            </tr>
                        </thead>
                        <tbody id="testingTableBody2">
                            <!-- Summary Statistics Rows -->
                            <tr class="average-row">
                                <td class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element" colspan="3">Average</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                            </tr>
                            <tr>
                                <td class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element" colspan="3">Minimum</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                            </tr>
                            <tr>
                                <td class="border border-gray-800 px-3 py-2 text-center font-semibold view-form-element" colspan="3">Maximum</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                                <td class="border border-gray-800 px-3 py-2 text-center view-form-element">0.00</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Verification and Approval Sections Side by Side -->
            <div class="flex justify-center mt-4 gap-4">
                <!-- Verified By Section -->
                <section id="verificationSection" class="w-80 p-4 bg-gray-50 border border-gray-300 rounded">
                    <h3 class="font-bold text-gray-800 mb-2 text-center view-form-element">Verified By</h3>
                    <div class="bg-[#002E7D] h-0.5 w-12 mx-auto rounded mb-2"></div>
                    
                    <!-- Verification Status Display -->
                    <div id="verificationStatus" class="rounded bg-green-50 flex items-center justify-center" style="display: none; min-height: 100px; padding: 20px;">
                        <div class="text-center">
                            <div class="flex items-center justify-center mb-2">
                                <i class="fas fa-check-circle text-green-500 text-sm mr-1"></i>
                                <span class="text-green-700 font-semibold text-sm">Verified</span>
                            </div>
                            <div class="text-sm text-gray-600">
                                <div id="verifiedByDisplay"></div>
                                <div id="verifiedDateDisplay"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Custom Confirmation Popup -->
                    <div id="verificationConfirmPopup" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" style="display: none;">
                        <div class="bg-white rounded-lg p-4 max-w-sm w-full mx-4 shadow-xl border border-gray-200">
                            <h3 class="text-base font-bold text-gray-800 mb-3 text-center border-b border-gray-200 pb-2">Confirm Verification</h3>
                            
                            <div class="space-y-1.5 mb-4 text-sm">
                                <div class="flex justify-between items-center py-1 border-b border-gray-100">
                                    <span class="font-medium text-gray-600">Product Name:</span>
                                    <span id="confirmProductName" class="text-gray-900 font-semibold"></span>
                                </div>
                                <div class="flex justify-between items-center py-1 border-b border-gray-100">
                                    <span class="font-medium text-gray-600">Production Date:</span>
                                    <span id="confirmProductionDate" class="text-gray-900 font-semibold"></span>
                                </div>
                                <div class="flex justify-between items-center py-1 border-b border-gray-100">
                                    <span class="font-medium text-gray-600">Inspection Date:</span>
                                    <span id="confirmInspectionDate" class="text-gray-900 font-semibold"></span>
                                </div>
                                <div class="flex justify-between items-center py-1 border-b border-gray-100">
                                    <span class="font-medium text-gray-600">Verifier Name:</span>
                                    <span id="confirmVerifierName" class="text-gray-900 font-semibold"></span>
                                </div>
                                <div class="flex justify-between items-center py-1">
                                    <span class="font-medium text-gray-600">Verification Date:</span>
                                    <span id="confirmVerificationDate" class="text-gray-900 font-semibold"></span>
                                </div>
                            </div>
                            
                            <div class="flex justify-center space-x-2">
                                <button id="confirmVerificationBtn" class="px-3 py-1.5 bg-[#002E7D] text-white text-sm rounded hover:bg-[#002E7D]/90 focus:outline-none focus:ring-1 focus:ring-[#002E7D] transition-colors">
                                    <i class="fas fa-check mr-1"></i>Confirm
                                </button>
                                <button id="cancelVerificationPopupBtn" class="px-3 py-1.5 bg-gray-500 text-white text-sm rounded hover:bg-gray-600 focus:outline-none focus:ring-1 focus:ring-gray-500 transition-colors">
                                    <i class="fas fa-times mr-1"></i>Cancel
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Verification Form (Hidden when already verified) -->
                    <div id="verificationForm" class="space-y-2">
                        <div class="text-center mb-2">
                            <p class="text-sm text-gray-600">Enter password</p>
                        </div>
                        
                        <div class="space-y-2">
                            <div>
                                <label for="verificationPassword" class="block font-medium text-gray-700 mb-1 view-form-element">Password</label>
                                <div class="relative">
                                    <input type="password" id="verificationPassword" class="w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-[#002E7D] focus:border-[#002E7D]" placeholder="Enter password">
                                    <button type="button" id="toggleVerificationPassword" class="absolute inset-y-0 right-0 pr-2 flex items-center">
                                        <i class="fas fa-eye text-gray-400 hover:text-gray-600 text-sm"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div>
                                <label for="verificationDate" class="block font-medium text-gray-700 mb-1 view-form-element">Date <span class="text-red-500">*</span></label>
                                <input type="date" id="verificationDate" class="w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-[#002E7D] focus:border-[#002E7D]" required>
                            </div>
                        </div>
                        
                        <div class="flex justify-center space-x-2 mt-3">
                            <button type="button" id="verifyFormBtn" class="px-3 py-1 bg-[#002E7D] text-white text-sm rounded hover:bg-[#002E7D]/90 focus:outline-none focus:ring-1 focus:ring-[#002E7D] transition-colors">
                                <i class="fas fa-check mr-1"></i>Verify
                            </button>
                            <button type="button" id="cancelVerificationBtn" class="px-3 py-1 bg-gray-500 text-white text-sm rounded hover:bg-gray-600 focus:outline-none focus:ring-1 focus:ring-gray-500 transition-colors">
                                Cancel
                            </button>
                        </div>
                    </div>
                </section>

                <!-- Approved By Section (Disabled for Future Use) -->
                <section id="approvalSection" class="w-80 p-4 bg-gray-50 border border-gray-300 rounded" style="display: none;">
                    <h3 class="font-bold text-gray-800 mb-2 text-center view-form-element">Approved By</h3>
                    <div class="bg-[#002E7D] h-0.5 w-12 mx-auto rounded mb-2"></div>
                    
                    <!-- Approval Status Display -->
                    <div id="approvalStatus" class="mb-2 p-2 rounded bg-green-50" style="display: none;">
                        <div class="flex items-center justify-center">
                            <i class="fas fa-check-circle text-green-500 text-sm mr-1"></i>
                            <span class="text-green-700 font-semibold text-sm">Approved</span>
                        </div>
                        <div class="text-sm text-gray-600 text-center mt-1">
                            <div id="approvedByDisplay"></div>
                            <div id="approvedDateDisplay"></div>
                        </div>
                    </div>

                    <!-- Approval Form -->
                    <div id="approvalForm" class="space-y-2">
                        <div class="text-center mb-2">
                            <p class="text-sm text-gray-600">Enter Password</p>
                        </div>
                        
                        <div class="space-y-2">
                            <div>
                                <label for="approvalPassword" class="block font-medium text-gray-700 mb-1" style="font-size: 13px;">Password</label>
                                <div class="relative">
                                    <input type="password" id="approvalPassword" class="w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-[#002E7D] focus:border-[#002E7D]" placeholder="Enter password">
                                    <button type="button" id="toggleApprovalPassword" class="absolute inset-y-0 right-0 pr-2 flex items-center">
                                        <i class="fas fa-eye text-gray-400 hover:text-gray-600 text-sm"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div>
                                <label for="approvalDate" class="block font-medium text-gray-700 mb-1" style="font-size: 13px;">Date <span class="text-red-500">*</span></label>
                                <input type="date" id="approvalDate" class="w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-[#002E7D] focus:border-[#002E7D]">
                            </div>
                        </div>
                        
                        <div class="flex justify-center space-x-2 mt-3">
                            <button type="button" id="approveFormBtn" class="px-3 py-1 bg-[#002E7D] text-white text-sm rounded hover:bg-[#002E7D]/90 focus:outline-none focus:ring-1 focus:ring-[#002E7D] transition-colors">
                                <i class="fas fa-check mr-1"></i>Approve
                            </button>
                            <button type="button" id="cancelApprovalBtn" class="px-3 py-1 bg-gray-500 text-white text-sm rounded hover:bg-gray-600 focus:outline-none focus:ring-1 focus:ring-gray-500 transition-colors">
                                Cancel
                            </button>
                        </div>
                    </div>
                </section>

                <!-- Approval Confirmation Popup -->
                <div id="approvalConfirmPopup" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" style="display: none;">
                    <div class="bg-white rounded-lg shadow-lg p-6 max-w-md w-full mx-4">
                        <h2 class="text-lg font-bold text-gray-800 mb-4 text-center">
                            <i class="fas fa-lock text-[#002E7D] mr-2"></i>Confirm Approval
                        </h2>
                        
                        <div class="space-y-3 mb-4">
                            <div class="text-sm text-gray-600">
                                <span class="font-semibold">Product:</span>
                                <span id="confirmApprovalProductName" class="text-gray-900 font-semibold"></span>
                            </div>
                            <div class="text-sm text-gray-600">
                                <span class="font-semibold">Production Date:</span>
                                <span id="confirmApprovalProductionDate" class="text-gray-900 font-semibold"></span>
                            </div>
                            <div class="text-sm text-gray-600">
                                <span class="font-semibold">Inspection Date:</span>
                                <span id="confirmApprovalInspectionDate" class="text-gray-900 font-semibold"></span>
                            </div>
                            <div class="text-sm text-gray-600">
                                <span class="font-semibold">Approver:</span>
                                <span id="confirmApproverName" class="text-gray-900 font-semibold"></span>
                            </div>
                            <div class="text-sm text-gray-600">
                                <span class="font-semibold">Approval Date:</span>
                                <span id="confirmApprovalDate" class="text-gray-900 font-semibold"></span>
                            </div>
                        </div>
                        
                        <div class="flex justify-center space-x-2">
                            <button id="confirmApprovalBtn" class="px-3 py-1.5 bg-[#002E7D] text-white text-sm rounded hover:bg-[#002E7D]/90 focus:outline-none focus:ring-1 focus:ring-[#002E7D] transition-colors">
                                <i class="fas fa-check mr-1"></i>Approve
                            </button>
                            <button id="cancelApprovalPopupBtn" class="px-3 py-1.5 bg-gray-500 text-white text-sm rounded hover:bg-gray-600 focus:outline-none focus:ring-1 focus:ring-gray-500 transition-colors">
                                <i class="fas fa-times mr-1"></i>Cancel
                            </button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script type="module" src="../../supabase-config.js"></script>
    <script type="module" src="../../js/film-inspection-forms-js/18-gsm-214-micro-white.js"></script>

    <script>
        // Function to update form title from the product code input field
        function updateFormTitleFromInput() {
            const formTitle = document.getElementById('formTitle');
            const productCodeInput = document.getElementById('productCodeInput');

            if (formTitle && productCodeInput) {
                // Get product code from the input field
                const productCode = productCodeInput.value.trim();

                if (productCode) {
                    // Update title with product code from input field
                    formTitle.textContent = productCode.toUpperCase();
                }
            }
        }

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Wait a bit for the form data to load, then update title
            setTimeout(updateFormTitleFromInput, 1000);
        });
    </script>
</body>
</html>

